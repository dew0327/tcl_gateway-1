# tcl_gateway

<h3>서비스 시나리오</h3>

  > <h4>기능적 요구사항</h4>
  1. 고객이 주문을 하면 주문정보를 바탕으로 요리가 시작된다.
  2. 요리가 완료되면 배달이 시작된다. 
  3. 고객이 주문취소를 하게 되면 요리가 취소된다.
  4. 고객이 주문 시 제고가 없을 경우 주문이 취소된다. 
  5. 고객은 Mypage를 통해, 주문과 요리, 배달의 전체 상황을 조회할수 있다.


  > <h4>비기능적 요구사항</h4>
  1. 트랜잭션
    : 주문 취소시 요리취소가 함께 처리되도록 한다. Sync 호출(Saga Pattern).
  2. 장애격리
    : 주문 시스템에 장애가 발생하면 주문은 잠시뒤에 처리될 수 있도록 한다(Circuit breaker).
  3. 성능 
    : 고객이 mypage를 통해 주문과 요리, 배달의 전체 상황을 조회할수 있다(CQRS).


  > <h4>MSAEz 로 모델링한 이벤트스토밍 결과</h4>
![EventStorming_Restaurant](https://user-images.githubusercontent.com/54210936/93165941-4bda4580-f758-11ea-9195-bc577796b8d0.png)


  > <h4>이벤트도출</h4>
  1. 주문됨
  2. 주문취소됨
  3. 요리재고체크됨
  4. 요리시작됨
  5. 배달시작됨
